<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="noindex, nofollow" />
  <title>LUWO Golden Curve • Music & Visual Demo</title>
  <style>
    :root {
      --bg: #0a0f1f;
      --panel: #101830;
      --accent: #f2c94c;
      --muted: #9fb3d2;
      --text: #e8edff;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
      background: var(--bg);
      color: var(--text);
      display: grid;
      grid-template-columns: 320px 1fr;
      min-height: 100vh;
    }

    aside {
      padding: 20px;
      background: var(--panel);
      border-right: 1px solid rgba(255, 255, 255, 0.05);
      box-shadow: 4px 0 12px rgba(0, 0, 0, 0.2);
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    h1 {
      margin: 0;
      font-size: 22px;
      letter-spacing: -0.02em;
    }

    p { margin: 0; color: var(--muted); }

    label {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      color: var(--text);
      font-weight: 600;
    }

    input[type="range"] {
      width: 100%;
    }

    .control {
      display: grid;
      gap: 6px;
      padding: 10px 12px;
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 12px;
    }

    button {
      padding: 10px 12px;
      background: var(--accent);
      color: #0d0a00;
      border: none;
      border-radius: 10px;
      font-weight: 700;
      cursor: pointer;
      transition: transform 0.1s ease, box-shadow 0.1s ease;
    }

    button:hover { transform: translateY(-1px); box-shadow: 0 8px 16px rgba(0,0,0,0.2); }
    button:active { transform: translateY(0); box-shadow: none; }

    main { padding: 20px; }

    #canvas {
      width: 100%;
      height: calc(100vh - 40px);
      background: radial-gradient(circle at 30% 30%, rgba(242, 201, 76, 0.06), transparent 45%),
        radial-gradient(circle at 70% 40%, rgba(76, 201, 240, 0.08), transparent 40%),
        #060913;
      border: 1px solid rgba(255, 255, 255, 0.05);
      border-radius: 14px;
      box-shadow: inset 0 0 0 1px rgba(255,255,255,0.03);
    }

    .metric {
      font-family: 'JetBrains Mono', 'SFMono-Regular', ui-monospace, monospace;
      font-size: 13px;
      color: var(--muted);
    }

    @media (max-width: 900px) {
      body { grid-template-columns: 1fr; }
      aside { border-right: none; border-bottom: 1px solid rgba(255,255,255,0.05); }
      #canvas { height: 480px; }
    }
  </style>
</head>
<body>
  <aside>
    <div>
      <h1>LUWO Golden Curve</h1>
      <p>Experiment with phi-driven spirals and parabolic amplitude for music envelopes, LFO motion, and visual arcs.</p>
      <p style="color: #cfd8ff; font-weight: 600;">Public-safe preset deck—keep your repo private and reuse these ranges without exposing internal automation.</p>
    </div>

    <div class="control" style="gap: 10px;">
      <label style="justify-content: flex-start; gap: 8px;">
        <span>Presets</span>
        <span class="metric">(public-safe)</span>
      </label>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 8px;">
        <button type="button" class="preset" data-preset="music">Music shimmer</button>
        <button type="button" class="preset" data-preset="visual">Visual arc</button>
        <button type="button" class="preset" data-preset="safe">Conservative</button>
      </div>
    </div>

    <div class="control">
      <label>Turns <span id="turnsValue" class="metric">3.5</span></label>
      <input type="range" id="turns" min="1" max="8" step="0.1" value="3.5" />
    </div>

    <div class="control">
      <label>Phi scaling <span id="phiValue" class="metric">1.618</span></label>
      <input type="range" id="phi" min="1.2" max="2.2" step="0.01" value="1.618" />
    </div>

    <div class="control">
      <label>Amplitude <span id="ampValue" class="metric">0.25</span></label>
      <input type="range" id="amplitude" min="0.05" max="0.5" step="0.01" value="0.25" />
    </div>

    <div class="control">
      <label>Line width <span id="widthValue" class="metric">2.0</span></label>
      <input type="range" id="width" min="1" max="6" step="0.2" value="2" />
    </div>

    <button id="randomize">Randomize resonance</button>
  </aside>

  <main>
    <canvas id="canvas" width="1200" height="900"></canvas>
  </main>

  <script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');

    const controls = {
      turns: document.getElementById('turns'),
      phi: document.getElementById('phi'),
      amplitude: document.getElementById('amplitude'),
      width: document.getElementById('width'),
    };

    const presetButtons = Array.from(document.querySelectorAll('.preset'));

    const labels = {
      turnsValue: document.getElementById('turnsValue'),
      phiValue: document.getElementById('phiValue'),
      ampValue: document.getElementById('ampValue'),
      widthValue: document.getElementById('widthValue'),
    };

    const goldenRatio = 1.61803398875;

    const updateLabel = () => {
      labels.turnsValue.textContent = Number(controls.turns.value).toFixed(1);
      labels.phiValue.textContent = Number(controls.phi.value).toFixed(3);
      labels.ampValue.textContent = Number(controls.amplitude.value).toFixed(2);
      labels.widthValue.textContent = Number(controls.width.value).toFixed(1);
    };

    const applyPreset = (preset) => {
      const presets = {
        music: { turns: 4.2, phi: 1.59, amplitude: 0.18, width: 2.8 },
        visual: { turns: 5.4, phi: 1.72, amplitude: 0.32, width: 2.2 },
        safe: { turns: 3.2, phi: 1.55, amplitude: 0.12, width: 1.6 },
      };

      const config = presets[preset];
      if (!config) return;

      Object.entries(config).forEach(([key, value]) => {
        if (controls[key]) {
          controls[key].value = value;
        }
      });

      updateLabel();
      draw();
    };

    const draw = () => {
      const turns = Number(controls.turns.value);
      const phiScale = Number(controls.phi.value);
      const amplitude = Number(controls.amplitude.value);
      const width = Number(controls.width.value);

      const centerX = canvas.width / 2;
      const centerY = canvas.height / 2;

      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.save();
      ctx.translate(centerX, centerY);

      const maxTheta = turns * Math.PI * 2;
      const a = 4;
      const b = Math.log(phiScale) / (Math.PI / 2);

      ctx.lineWidth = width;
      ctx.lineCap = 'round';
      ctx.strokeStyle = '#f2c94c';
      ctx.shadowColor = 'rgba(242, 201, 76, 0.4)';
      ctx.shadowBlur = 8;

      ctx.beginPath();
      for (let theta = 0; theta <= maxTheta; theta += 0.01) {
        const r = a * Math.exp(b * theta);
        const parabolic = 1 + amplitude * Math.pow(theta / Math.PI, 2);
        const x = r * Math.cos(theta) * parabolic;
        const y = r * Math.sin(theta) * parabolic;
        if (theta === 0) {
          ctx.moveTo(x, y);
        } else {
          ctx.lineTo(x, y);
        }
      }
      ctx.stroke();

      ctx.lineWidth = Math.max(1, width * 0.35);
      ctx.strokeStyle = 'rgba(76, 201, 240, 0.5)';
      ctx.setLineDash([8, 6]);
      ctx.beginPath();
      for (let theta = 0; theta <= maxTheta; theta += Math.PI / 12) {
        const r = a * Math.exp(b * theta);
        const x = r * Math.cos(theta);
        const y = r * Math.sin(theta);
        ctx.moveTo(0, 0);
        ctx.lineTo(x, y);
      }
      ctx.stroke();
      ctx.setLineDash([]);

      ctx.restore();
    };

    const randomize = () => {
      const randomTurns = (Math.random() * 5 + 2).toFixed(1);
      const randomPhi = (goldenRatio + (Math.random() - 0.5) * 0.4).toFixed(3);
      const randomAmplitude = (Math.random() * 0.4 + 0.1).toFixed(2);
      const randomWidth = (Math.random() * 4 + 1).toFixed(1);

      controls.turns.value = randomTurns;
      controls.phi.value = randomPhi;
      controls.amplitude.value = randomAmplitude;
      controls.width.value = randomWidth;

      updateLabel();
      draw();
    };

    Object.values(controls).forEach((input) => {
      input.addEventListener('input', () => {
        updateLabel();
        draw();
      });
    });

    document.getElementById('randomize').addEventListener('click', randomize);

    presetButtons.forEach((btn) => {
      btn.addEventListener('click', () => applyPreset(btn.dataset.preset));
    });

    updateLabel();
    draw();
  </script>
</body>
</html>
